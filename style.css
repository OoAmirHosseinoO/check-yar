@import url('https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css');

/* ================= BASICS ================= */
* { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; outline: none; }
body { font-family: 'Vazirmatn', sans-serif; background-color: #f2f4f7; color: #4a4a4a; direction: rtl; padding-top: 60px; padding-bottom: 90px; overflow-x: hidden; }

/* Page Entry Animation */
.page-slide-up { animation: slideUpPage 0.4s cubic-bezier(0.165, 0.84, 0.44, 1); }
@keyframes slideUpPage { from { transform: translateY(100%); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

/* ================= HEADER ================= */
.app-header { position: fixed; top: 0; right: 0; left: 0; height: 60px; background: rgba(255,255,255,0.95); display: flex; align-items: center; justify-content: space-between; padding: 0 16px; z-index: 1000; backdrop-filter: blur(5px); box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
.header-center h1 { font-size: 16px; font-weight: 800; color: #222; margin: 0; }
.header-right i, .header-left i { font-size: 20px; color: #555; cursor: pointer; padding: 5px; }

/* ================= SIDE MENU ================= */
.side-menu-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 8000; display: none; opacity: 0; transition: opacity 0.3s; }
.side-menu { position: fixed; top: 0; right: -280px; bottom: 0; width: 280px; background: white; z-index: 8001; transition: right 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); display: flex; flex-direction: column; box-shadow: -5px 0 15px rgba(0,0,0,0.1); }
.side-menu.open { right: 0; }
.side-menu-header { background: #00bcd4; color: white; padding: 25px 20px; font-size: 16px; font-weight: bold; display: flex; flex-direction: column; gap: 5px; }
.user-info-box { font-size: 12px; opacity: 0.9; font-weight: normal; }
.side-menu-item { padding: 15px 20px; border-bottom: 1px solid #f0f0f0; display: flex; align-items: center; gap: 15px; color: #444; cursor: pointer; font-size: 13px; transition: background 0.2s; }
.side-menu-item:active { background: #f5f5f5; }
.side-menu-item i { width: 20px; text-align: center; color: #00bcd4; font-size: 18px; }

/* ================= DASHBOARD ================= */
.app-content { padding: 12px; display: flex; flex-direction: column; gap: 12px; }
.card { background: white; border-radius: 16px; margin-bottom: 0; box-shadow: 0 2px 10px rgba(0,0,0,0.02); overflow: visible; position: relative; }
.card-content { padding: 16px; }
.row-layout { display: flex; align-items: center; }
.space-between { justify-content: space-between; }
.p-0 { padding: 0 !important; }

.logo-box { font-weight: 900; font-size: 26px; letter-spacing: -2px; }
.logo-j, .logo-l { color: #00bdd6; }
.date-box { font-size: 13px; color: #00bcd4; font-weight: 500; flex-grow: 1; padding-left: 5px; text-align: left !important; direction: rtl; }

.status-right-section { width: 50%; display: flex; align-items: center; gap: 10px; cursor: pointer; }
.qr-icon { font-size: 38px; color: #ff7043; }
.text-col { display: flex; flex-direction: column; }
.bold-text { font-size: 13px; font-weight: bold; color: #333; }
.small-text { font-size: 10px; color: #999; margin-top: 2px; }
.divider { width: 1px; background-color: #eee; margin: 0 10px; height: 40px;}
.status-left-section { width: 50%; display: flex; flex-direction: column; gap: 8px; }
.alert-item { display: flex; align-items: center; gap: 8px; }
.badge { width: 18px; height: 18px; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: white; font-size: 10px; }
.red-badge { background: #ff5252; } .green-badge { background: #66bb6a; }
.blue-text { font-size: 11px; color: #1976d2; font-weight: 600; }

.buttons-card .card-content { padding: 24px 10px; }
.circle-item { display: flex; flex-direction: column; align-items: center; width: 32%; text-align: center; text-decoration: none; }
.big-icon-circle { width: 65px; height: 65px; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: white; font-size: 28px; margin-bottom: 12px; box-shadow: 0 8px 20px rgba(0,0,0,0.15); transition: transform 0.2s; }
.big-icon-circle:active { transform: scale(0.95); }
.btn-blue { background: linear-gradient(135deg, #26c6da 0%, #00acc1 100%); }
.btn-red { background: linear-gradient(135deg, #ff7043 0%, #f4511e 100%); }
.btn-green { background: linear-gradient(135deg, #9ccc65 0%, #7cb342 100%); }
.c-title { font-size: 12px; font-weight: 700; color: #555; }
.c-sub { font-size: 11px; color: #999; margin-top: 4px; }

/* Calendar Dashboard */
.calendar-card-body { display: flex; align-items: stretch; height: 160px; overflow: hidden; }
.calendar-grid { flex-grow: 1; display: flex; overflow-x: auto; gap: 12px; padding: 15px; scrollbar-width: none; scroll-snap-type: x mandatory; align-items: center; }
.calendar-grid::-webkit-scrollbar { display: none; }
.year-wrapper { display: flex; border: 1px solid #eee; border-radius: 12px; overflow: hidden; background-color: #fff; scroll-snap-align: center; flex-shrink: 0; height: 130px; box-shadow: 0 2px 8px rgba(0,0,0,0.03); }
.year-label { writing-mode: vertical-rl; transform: rotate(180deg); font-size: 11px; font-weight: 800; color: #00bcd4; padding: 0 6px; background-color: #e0f7fa; border-left: 1px solid #eee; display: flex; align-items: center; justify-content: center; }
.year-block { display: grid; grid-template-rows: repeat(3, 1fr); grid-template-columns: repeat(4, 1fr); gap: 4px; padding: 8px; width: 200px; }
.cal-cell { display: flex; align-items: center; justify-content: center; font-size: 9px; font-weight: bold; border-radius: 4px; cursor: pointer; color: #555; transition: transform 0.1s; }
.d0 { background-color: #f9f9f9; color: #ccc; border: 1px solid #eee; } .d1 { background-color: #b2ebf2; color: #006064; } .d2 { background-color: #00bcd4; color: white; } .d3 { background-color: #006064; color: white; }
.calendar-legend { width: 70px; padding: 10px 5px; display: flex; flex-direction: column; align-items: center; justify-content: center; border-right: 1px dashed #eee; background: #fafafa; flex-shrink: 0; }
.legend-head { text-align: center; font-size: 10px; color: #444; font-weight: bold; margin-bottom: 12px; line-height: 1.4; }
.l-row { display: flex; align-items: center; justify-content: flex-end; gap: 6px; font-size: 10px; color: #777; margin-bottom: 6px; width: 100%; padding-left: 5px; }
.dot { width: 10px; height: 10px; border-radius: 3px; }

/* ================= FORMS & INPUTS ================= */
.form-card { padding: 0; overflow: hidden; }
.section-title { color: #00bcd4; font-size: 11px; padding: 12px 20px; font-weight: bold; background-color: #fafafa; border-bottom: 1px solid #f0f0f0; }
.form-row { display: flex; justify-content: space-between; align-items: center; padding: 18px 20px; border-bottom: 1px solid #f0f0f0; font-size: 13px; }
.label { color: #333; font-weight: 600; }

.clean-input { border: none; background: transparent; text-align: left; font-family: 'Vazirmatn'; font-size: 13px; color: #1565c0; width: 60%; direction: ltr; font-weight: bold; transition: color 0.3s; }
.clean-input::placeholder { color: #90caf9 !important; direction: rtl; text-align: left; font-weight: normal; opacity: 1; }
.blue-text-input { color: #1565c0 !important; }

.type-selector { display: flex; gap: 8px; }
.type-option { display: flex; align-items: center; gap: 5px; color: #bbb; font-size: 12px; cursor: pointer;}
.active-type { color: #333; font-weight: bold; }
.red-icon { color: #ff5252; } .green-icon { color: #66bb6a; }
.color-picker-row { display: flex; justify-content: center; gap: 15px; padding: 15px; }
.color-circle { width: 30px; height: 30px; border-radius: 50%; cursor: pointer; transition: transform 0.2s; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
.selected-color { transform: scale(1.3); border: 2px solid #555; }
.c-red { background: #ff8a80; } .c-orange { background: #ffcc80; } .c-yellow { background: #ffff8d; } .c-lime { background: #ccff90; } .c-blue { background: #80d8ff; } .c-purple { background: #ea80fc; } .c-none { border: 2px solid #ccc; background: white; display: flex; align-items: center; justify-content: center; color: #ccc;}
.save-btn { color: #1976d2; font-size: 14px; font-weight: bold; cursor: pointer; }
.delete-btn { width: 100%; padding: 15px; background: #ffebee; color: #f44336; border: 1px solid #ffcdd2; border-radius: 12px; font-family: 'Vazirmatn'; font-weight: bold; cursor: pointer; margin-top: 10px; display: flex; justify-content: center; align-items: center; gap: 10px; }
.action-btn-full { width: 100%; padding: 14px; background: #00bcd4; color: white; border: none; border-radius: 12px; font-size: 14px; font-weight: bold; cursor: pointer; font-family: 'Vazirmatn'; }

/* ================= MODALS ================= */
.modal-overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.6); z-index: 5000; align-items: flex-end; justify-content: center; backdrop-filter: blur(2px); }
.modal-center { align-items: center; }
.modal-content { background: white; width: 100%; border-radius: 25px 25px 0 0; overflow: hidden; animation: slideUpBottom 0.3s cubic-bezier(0.165, 0.84, 0.44, 1); max-height: 90vh; display: flex; flex-direction: column; }
@keyframes slideUpBottom { from { transform: translateY(100%); } to { transform: translateY(0); } }
.modal-content-center { width: 85%; border-radius: 20px; animation: popIn 0.3s; }
@keyframes popIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
.modal-header { background: #00bcd4; color: white; padding: 18px; text-align: center; font-weight: bold; font-size: 14px; }
.modal-body { padding: 0; overflow-y: auto; }
.modal-footer { padding: 15px; border-top: 1px solid #f0f0f0; display: flex; justify-content: center; background-color: #fff; gap: 10px; }
.close-modal-btn { width: 100%; padding: 12px; background-color: #f5f5f5; color: #666; border: 1px solid #ddd; border-radius: 12px; font-family: 'Vazirmatn'; font-weight: bold; cursor: pointer; }

/* Status Options */
.status-option { padding: 18px 25px; border-bottom: 1px solid #f0f0f0; font-size: 13px; color: #444; cursor: pointer; display: flex; align-items: center; gap: 10px; font-weight: 500; }
.status-option:active { background: #f5f5f5; }
.status-option i { font-size: 16px; width: 25px; text-align: center; }
.modal-full-screen { height: 100%; border-radius: 0; }

/* Lists & Images */
.cp-item { display: flex; align-items: center; padding: 15px 20px; border-bottom: 1px solid #f0f0f0; transition: background 0.2s; cursor: pointer; }
.cp-item:active { background-color: #f5f5f5; }
.cp-avatar { width: 40px; height: 40px; background-color: #e0f7fa; color: #00bcd4; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; margin-left: 15px; flex-shrink: 0; }
.cp-info { display: flex; flex-direction: column; gap: 4px; flex-grow: 1; }
.cp-name { font-weight: bold; font-size: 14px; color: #333; }
.cp-phone { font-size: 12px; color: #999; letter-spacing: 1px; }
.cp-actions { color: #bdbdbd; font-size: 14px; }
.cp-add-form { padding: 20px; display: flex; flex-direction: column; gap: 15px; }
.cp-input { width: 100%; padding: 12px; border: 1px solid #e0e0e0; border-radius: 10px; font-family: 'Vazirmatn'; font-size: 13px; outline: none; transition: border 0.2s; }
.cp-input:focus { border-color: #00bcd4; }
.cp-search-box { padding: 15px; border-bottom: 1px solid #eee; background: #f9f9f9; }
.search-input { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px; font-family: 'Vazirmatn'; outline: none; }
.bank-option { padding: 15px 20px; border-bottom: 1px solid #f0f0f0; display: flex; align-items: center; gap: 15px; cursor: pointer; }
.bank-option:active { background: #f5f5f5; }
.bank-option img { width: 40px; height: 40px; border-radius: 50%; object-fit: contain; border: 1px solid #eee; padding: 2px; }
.bank-option span { font-size: 13px; font-weight: bold; color: #444; }
.logo-wrapper { width: 40px; height: 40px; flex-shrink: 0; display: flex; align-items: center; justify-content: center; background-color: #fff; border-radius: 50%; border: 1px solid #eee; overflow: hidden; }
.bank-logo-img { width: 100%; height: 100%; object-fit: contain; }
.image-upload-area { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 0; cursor: pointer; height: 150px; border: 2px dashed #e0e0e0; border-radius: 16px; margin: 15px 0; background: #ffffff; transition: all 0.2s; overflow: hidden; position: relative; }
.img-placeholder i { font-size: 32px; color: white; background: linear-gradient(135deg, #26c6da 0%, #00acc1 100%); width: 65px; height: 65px; display: flex; align-items: center; justify-content: center; border-radius: 50%; box-shadow: 0 5px 15px rgba(0, 172, 193, 0.4); margin-bottom: 10px; }
.preview-img { width: 100%; height: 100%; object-fit: cover; }
.upload-label { font-size: 12px; color: #78909c; font-weight: bold; }
.modal-preview-box { width: 100%; height: 250px; background: #333; display: flex; align-items: center; justify-content: center; overflow: hidden; }
.menu-option { padding: 15px; border-bottom: 1px solid #eee; display: flex; align-items: center; gap: 15px; color: #444; font-size: 14px; cursor: pointer; }
.menu-delete { color: #f44336; }

/* Lists & Check Cards */
.check-item-card { background: white; padding: 15px; border-bottom: 1px solid #f0f0f0; display: flex; justify-content: space-between; cursor: pointer; }
.chk-right { display: flex; gap: 10px; width: 65%; align-items: flex-start; }
.chk-date { display: flex; align-items: center; gap: 6px; font-weight: bold; font-size: 13px; color: #333; }
.type-badge { font-size: 10px; } .t-pay { color: #f44336; } .t-rec { color: #2196f3; }
.chk-color-tag-inline { width: 10px; height: 10px; border-radius: 50%; display: inline-block; border: 1px solid rgba(0,0,0,0.1); }
.chk-img-icon { font-size: 13px; color: #00acc1; }
.chk-desc { font-size: 11px; color: #555; }
.chk-left { display: flex; flex-direction: column; align-items: flex-end; gap: 5px; width: 35%; }
.status-clickable { cursor: pointer; font-size: 10px; padding: 2px 8px; border-radius: 12px; }
.amount-text { font-weight: bold; font-size: 14px; color: #333; }
.currency { font-size: 9px; color: #999; }
.filter-tabs-container { display: flex; overflow-x: auto; padding: 10px 15px; background: white; gap: 15px; margin-top: 60px; scrollbar-width: none; border-bottom: 1px solid #eee; }
.filter-tab { font-size: 12px; color: #999; font-weight: bold; cursor: pointer; padding-bottom: 5px; transition: all 0.3s; opacity: 1; }
.filter-off { opacity: 0.4; filter: grayscale(100%); }
.text-orange { color: #ffa000; } .text-green { color: #4caf50; } .text-red { color: #f44336; } .text-blue { color: #2196f3; } .text-gray { color: #9e9e9e; }
.month-group { margin-bottom: 10px; border-radius: 12px; overflow: hidden; }
.month-header-dynamic { display: flex; justify-content: space-between; align-items: center; background: #e0f7fa; padding: 8px 15px; font-size: 13px; color: #006064; font-weight: bold; cursor: pointer; border-radius: 8px; margin-bottom: 5px; }
.arrow-icon { transition: transform 0.3s; font-size: 14px; order: 1; } .arrow-rotated { transform: rotate(180deg); }
.month-content { display: block; animation: fadeIn 0.3s; } .month-collapsed { display: none; }

/* ================= BOTTOM NAV (FIXED) ================= */
.bottom-navigation { position: fixed; bottom: 0; left: 0; right: 0; height: 70px; background: white; display: flex; justify-content: space-around; align-items: flex-end; padding-bottom: 10px; z-index: 2000; box-shadow: 0 -5px 20px rgba(0,0,0,0.05); border-radius: 25px 25px 0 0; }
.nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #b0bec5; font-size: 10px; cursor: pointer; text-decoration: none; width: 20%; padding-bottom: 5px; }
.nav-item i { font-size: 22px; margin-bottom: 4px; }
.active-nav { color: #00bcd4 !important; } .active-nav i { transform: translateY(-2px); }
.nav-item-middle { flex: 1; position: relative; display: flex; justify-content: center; width: 20%; pointer-events: none; }

/* *** اصلاح دقیق دکمه وسط *** */
.fab-border-fix { 
    position: absolute; 
    top: -60px; /* مقدار دقیق برای نشستن روی لبه */
    left: 50%;
    transform: translateX(-50%); 
    pointer-events: auto; 
    z-index: 2005;
}
.fab-btn { width: 60px; height: 60px; border-radius: 50%; border: none; background: #00bcd4; color: white; font-size: 30px; display: flex; justify-content: center; align-items: center; box-shadow: 0 5px 15px rgba(0, 188, 212, 0.4); cursor: pointer; text-decoration: none; border: 5px solid #f2f4f7; /* همرنگ پس‌زمینه سایت */ }
.save-fab-btn { background: #4caf50 !important; box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4) !important; }

.spacer { height: 90px; }

/* Report Page */
.report-header-sum { background: linear-gradient(135deg, #00bcd4 0%, #0097a7 100%); color: white; padding: 25px; border-radius: 16px; margin-bottom: 20px; text-align: center; box-shadow: 0 4px 15px rgba(0, 188, 212, 0.3); }
.report-big-num { font-size: 24px; font-weight: 900; margin-top: 10px; direction: ltr; }
.report-label { font-size: 12px; opacity: 0.9; }
.report-scroll-container { display: flex; overflow-x: auto; gap: 15px; padding-bottom: 20px; scroll-snap-type: x mandatory; scrollbar-width: none; }
.report-month-card { min-width: 85%; background: white; border-radius: 16px; padding: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); scroll-snap-align: center; border: 1px solid #f0f0f0; display: flex; flex-direction: column; gap: 10px; }
.rm-header { display: flex; justify-content: space-between; border-bottom: 1px solid #eee; padding-bottom: 10px; }
.rm-title { font-weight: bold; color: #333; } .rm-val { font-weight: bold; color: #333; }
.rm-row { display: flex; justify-content: space-between; font-size: 12px; color: #666; }

/* Filter & Calendar Extras */
.filter-modal-content { background: white; width: 100%; border-radius: 20px 20px 0 0; position: absolute; bottom: 0; animation: slideUpBottom 0.3s ease-out; max-height: 85vh; overflow-y: auto; display: flex; flex-direction: column; }
.filter-section { padding: 15px; border-bottom: 1px solid #eee; }
.filter-title { font-size: 12px; font-weight: bold; color: #555; margin-bottom: 10px; display: block; }
.range-inputs { display: flex; gap: 10px; align-items: center; }
.range-inputs input { flex: 1; padding: 8px; border: 1px solid #ddd; border-radius: 6px; font-family: 'Vazirmatn'; font-size: 12px; text-align: center; }
.color-toggle-container { display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; }
.color-toggle { width: 30px; height: 30px; border-radius: 50%; cursor: pointer; border: 2px solid transparent; display: flex; justify-content: center; align-items: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
.color-toggle.disabled { opacity: 0.3; transform: scale(0.8); filter: grayscale(100%); border: 1px dashed #999; }
.color-toggle i { color: white; font-size: 12px; display: none; }
.color-toggle:not(.disabled) i { display: block; }
.custom-calendar-box { background: white; border-radius: 20px; overflow: hidden; width: 320px; max-width: 90%; display: flex; flex-direction: column; }
.picker-display-header { background: #00bcd4; padding: 20px; color: white; }
.calendar-days { display: grid; grid-template-columns: repeat(7, 1fr); row-gap: 5px; column-gap: 5px; padding: 10px; }
.c-day { width: 36px; height: 36px; margin: auto; display: flex; align-items: center; justify-content: center; border-radius: 50%; font-size: 13px; cursor: pointer; }
.c-day:hover { background: #e0f7fa; color: #00bcd4; } 
.c-day.selected { background: #00bcd4 !important; color: white !important; border-radius: 50%; box-shadow: 0 2px 6px rgba(0, 188, 212, 0.4); } 
.c-day.today { border: 1px solid #00bcd4; color: #00bcd4; border-radius: 50%; }
.calendar-months-grid, .calendar-years-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; padding: 20px; }
.calendar-btn-row { display: flex; gap: 10px; padding: 15px; border-top: 1px solid #eee; }
.cal-btn { flex: 1; padding: 10px; border-radius: 10px; border: none; font-size: 12px; cursor: pointer; font-family: 'Vazirmatn'; font-weight: bold; }
.btn-today { background: #e0f7fa; color: #00bcd4; } .btn-confirm { background: #4caf50; color: white; } .btn-cancel { background: #ffebee; color: #f44336; border: 1px solid #ffcdd2; }
.details-card { background: white; width: 85%; border-radius: 24px; overflow: hidden; box-shadow: 0 20px 60px rgba(0,0,0,0.3); animation: popIn 0.3s; }
.dc-body { padding: 25px; }
.dc-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
.dc-badge { background: #006064; color: white; width: 65px; height: 65px; border-radius: 18px; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; box-shadow: 0 5px 15px rgba(0,96,100,0.3); }
.dc-m { font-size: 14px; font-weight: bold; } .dc-y { font-size: 11px; opacity: 0.8; }
.dc-title { font-size: 13px; font-weight: bold; color: #37474f; }
.dc-stats { display: flex; flex-direction: column; gap: 8px; margin-bottom: 15px; }
.dc-row { display: flex; justify-content: space-between; font-size: 12px; color: #666; border-bottom: 1px dashed #eee; padding-bottom: 4px; }
.dc-val { font-weight: bold; color: #333; direction: ltr; }
.text-danger { color: #d32f2f; }
.dc-weeks { background: #f1f8e9; border-radius: 12px; padding: 10px; margin-bottom: 5px; }
.wk-row { display: flex; justify-content: space-between; font-size: 11px; color: #558b2f; margin-bottom: 3px; }
.dc-actions { display: flex; border-top: 1px solid #eee; }
.dc-btn { flex: 1; padding: 15px; border: none; background: white; font-family: 'Vazirmatn'; font-weight: bold; font-size: 13px; cursor: pointer; color: #555; }
.dc-btn-view { color: #1976d2; border-right: 1px solid #eee; }